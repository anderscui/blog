---
title: Thomas' Calculus - 微分
date: 2017-07-23 13:31:06
tags:
	- Maths
---

《[托马斯微积分](https://book.douban.com/subject/1231399/)》，以前看过前八章，内容大致包括导数、积分和无穷级数。最近想更系统的学习数学分析，从本书开始，先补完后面几章，尤其是多元函数的微分和重积分，然后是科朗的《[微积分和数学分析引论](https://book.douban.com/subject/1281343/)》，增强一下理论基础。

另外，edX上有公开课[18.01.1x Calculus 1A: Differentiation](https://courses.edx.org/courses/course-v1:MITx+18.01.1x+2T2017/info)，它源自更早的[MIT 18.01 on OCW](https://ocw.mit.edu/courses/mathematics/18-01sc-single-variable-calculus-fall-2010/)，后者在网易公开课上早已有翻译。大概浏览过一遍，其思路与托马斯微积分接近。从数学上来说强调直观理解，难度不算高，适合自学。但如果想获得关于微积分的坚实理论基础，托马斯微积分和公开课无疑是缺失了很多的。

所以这一关于微积分的系列文章，将从两种角度来了解微积分，先从托马斯微积分开始，之后是科朗的。

# 预备知识

* 了解函数、参数方程的概念
* 以函数或参数方程为现实世界的问题建立模型

## 直线

### 增量

**定义**：当平面上一个质点从一点移动到另一点，其坐标的纯改变或增量通过把终点坐标减去起点坐标而求得。从点$(x_1, y_1)$到$(x_2, y_2)$，其坐标增量为：

$$\Delta x = x_2 - x_1, \Delta y = y_2 - y_1$$

后面会多次看到“增量”的使用。

### 斜率（Slope）

每条非垂直的直线$L$都有斜率（垂直于$x$轴的就“不斜”了），若$(x_1, y_1)$和$(x_2, y_2)$是$L$上两点，那么$L$的斜率是：$\frac{\Delta y}{\Delta x}$。

斜率的直接意义是，$x$每行进单位距离时，高度的变化。又可以看做直线与横轴夹角的正切值，这也从另一方面说明垂直于横轴的直线没有斜率。

注意：斜率对于“导数”的定义有着根本的重要性，导数的几何意义即曲线在一点的切线斜率。

### 方程

* 点斜式：$y = m(x - x_1) + y_1$
* 斜截式：$y = mx + b$
* 一般式：$Ax + By = C$，（$A$和$B$不全为0）

点斜式和斜截式预设了斜率是存在的，一般式不是，但前两种使用起来更方便。

点$(a, b)$到直线$Ax + By = C$的距离是：$\frac{|Aa + Bb - C|}{\sqrt{A^2+B^2}}$

### 线性回归

可使用scikit-learn或R之类的工具。

## 函数与图形

### 函数

定义：从集合$D$到集合$R$的一个函数是对$D$中每个元素指定$R$中唯一确定的元素的一种**规则**。

我最喜欢的数学家**欧拉（Leonhard Euler）**首先使用一种符号表示函数的方法：$y = f(x)$。这也是我们最熟悉的一种记法了。根据函数的定义，函数本质上由**规则**与**定义域**决定，因为一旦二者确定，其值域也就确定下来了。这也符合**自变量**和**因变量**两个名称的含义。

### 基本性质

* 单调性：增函数、减函数
* 奇偶性：奇函数、偶函数，注意两者图像之特征

### 分段函数

绝对值函数$y = |x|$定义如下：

$$f(n) =
  \begin{cases}
    -x & \quad \text{if } x < 0\\
    x  & \quad \text{if } x \geq 0 \\
  \end{cases}
$$

该函数定义颇简单，但可作为连续而不可导的基本示例。$|x|$等价于$\sqrt{x^2}$。绝对值相关的一个基本不等式是：$|a + b| \leq |a| + |b|$。

### 函数图像的移位

* 水平移位：$y = f(x + h)$与$y = f(x)$的关系
* 垂直移位：$y = f(x) + k$与$y = f(x)$的关系

### 复合函数

复合函数无处不在，毕竟基本函数就那么几个。

## 指数函数

在科学和工程应用中**指数函数**$y = a^x$特别重要。其中对自然、物理和经济现象的建模中用到的最重要的指数函数是**自然指数函数**$y = e^x$，后面将会看到为何该函数是”自然的“。

存款的复利是指数增长的一个例子，碳-14原子的衰减是放射性衰减的一个例子。

## 反函数与对数函数

如果一个函数是**一对一**的，那么可以定义其反函数，即原函数规则的**逆**。反函数与原函数的图像关于直线$y = x$对称。反函数与原函数的复合函数形成**恒等式**。

指数函数的反函数称为**对数函数**。两个重要的恒等式：

$$a^{log_a x} = x, log_a a^x = x$$

对数的乘积法则、商法则、幂法则和换底公式都是很常用的。

速算技巧：70法则：$ln2 \approx 0.70$，如果连续复利率为$r\%$，那么其翻倍的年数为$\frac{70}{r}$。

## 三角函数

由于三角函数的周期性，很多自然发生的**周期过程**可以用三角函数建模，如脑电波、心跳、家用的电流与电压，有强烈的证据表明冰河期是周期性的，其周期为9万年到10万年。

进一步地，一个令人惊讶且优美的高等微积分的定理（哪一个呢？）说明，每个周期函数都可以表示为正弦与余弦的代数组合。

一般的三角函数的图像往往是基本三角函数的移位、伸缩、反射。

## 参数方程

有时候一条曲线不能用形如$y = f(x)$的形式表示，但可以借助于**参数**变量描述。

定义：如果$x$和$y$由$t$值的区间上的函数
$$x = f(t), y = g(t)$$
给出，那么由这些方程定义的点集$(x, y) = (f(t), g(t))$是一条**参数曲线**。方程称为曲线的**参数方程**。

例：$x = acost, y = bsint, 0 \leq t \leq 2 \pi$，定义了一个椭圆。

# 极限和连续

极限无疑是微积分诸概念的基础，是微积分有别于初等代数与三角的诸多概念之一。

## 变化率和极限

### 平均变化率

运动物体在一段时间内的平均速度是我们熟悉的概念，应该在小学时就接触到了。以**自由落体运动**为例，物体位移与时间的关系为$y = \frac{1}{2}gt^2$。依此可知，物体在一段时间行进距离和平均速度。如果时间改变量$\Delta t$很小，那么我们可以认为物体在某一**时刻**的速度大致是多少。事实上，汽车时速表的**瞬时速度（当前速度）**即是以这种方式计算得来。

平均速度涉及到函数的**平均变化率**：

定义：$y = f(x)$关于$x$在区间$[x_1, x_2]$上的平均变化率是：

$$\frac{\Delta y}{\Delta x} = \frac{f(x_2) - f(x_1)}{x_2 - x_1} = \frac{f(x_1+h) - f(x_1)}{h}$$

几何上，平均变化率就是割线的斜率。注意，这里数学上的平均变化率在几何上和物理上分别对应到了割线斜率和平均速度。那么瞬时速度对应到什么呢？由上面介绍可知，它的近似值是当$\Delta t$很小很小时的平均速度，但”很小很小“显然不是一个严谨的术语，要给出瞬时速度的严格定义，需要借助于**极限**的概念。

### 函数的极限

考虑下面函数在$x = 1$附近的性态：

$$f(x) = \frac{x^2 - 1}{x - 1}$$

此函数在$x = 1$处无定义，对于$x \neq 1$则可以简化为$f(x) = x + 1$，因此$f$的图形就是抠掉了点$(1, 2)$的直线$y = x + 1$。

尽管$f(1)$无定义，但我们仍可以说，当$x$**充分靠近**1时，函数值能够**任意靠近**2。换言之，不管你希望$f(x)$多么靠近，通过选择足够靠近1的$x$，就是可以做到的。由此例可引出一般的**极限的非正式定义**：

设$f(x)$除了可能在点$x_0$没有定义外，在$x_0$的一个开区间内均有定义。如果对充分靠近$x_0$的$x$，$f(x)$能够任意靠近$L$，那么我们就说当$x$趋于$x_0$时$f$趋于极限$L$，记作：

$$\lim_{x \to x_0} f(x) = L$$

这里用到了**充分靠近**和**任意靠近**这样的词，很不严谨，因此说是**非正式定义**，但我们通过上例可以得到直观的概念。值得特别注意的是，极限的判断与求值与$x_0$处是否有定义及值为多少没有任何关系。

极限的定义中，要求函数值要能够任意靠近某值，若当$x \to x_0$时，不能满足这一点，那么极限就不存在了。常见的几种情况是：

* 函数跳跃：如单位阶梯函数、下取整函数
* 函数无限增大：如$y = 1/x$
* 振荡：如$y = sin \frac{1}{x} $

### 极限的正式定义

下面的定义说明**充分靠近**和**任意靠近**的精确含义是什么：

设$f(x)$除了可能在点$x_0$没有定义外，在$x_0$的一个开区间内均有定义。我们说当$x$趋于$x_0$时$f$趋于极限$L$，记作：

$$\lim_{x \to x_0} f(x) = L$$

如果，对充分任何数$\epsilon > 0$，存在相应的数$\delta > 0$使得对所有满足$0 < |x - x_0| < \delta $的$x$，有$|f(x) - L| < \epsilon$。

如果选取的$\epsilon$非常小，那么$|f(x) - L| < \epsilon$意味着$f(x)$在某邻域内离$L$非常近，而“某邻域”有赖于找到相应的$\delta$。总之，不管你希望函数值离$L$多么近，总能找到$\delta$保证之，就可以确保极限是存在的，且值为$L$。

## 极限的求值与单侧极限

### 极限法则

通过图像和极限定义，我们可以求出一下简单函数的极限，如$y = c$，$y = x$。在此基础上，通过若干极限法则，我们可以求得更复杂函数的极限。这些法则是：若$\lim_{x \to c} f(x) = L$，$\lim_{x \to c} g(x) = M$

* 和法则：$\lim_{x \to c} (f(x)+g(x)) = L + M$
* 差法则
* 积法则
* 商法则：$\lim_{x \to c} \frac{f(x)}{g(x)} = \frac{L}{M}, if M \neq 0$
* 幂法则：若$r$和$s$都是整数，$s \neq 0$，那么$\lim_{x \to c} f(x)^{\frac{r}{s}} = L^{\frac{r}{s}}$

通过这些法则，我们就立即了解了如何求得有理函数的极限（除了分母极限为$0$的情况）。对于分母为$0$的情况，一般先考虑能否消去零分母。

### 三明治（夹逼）定理

设在包含$c$在内的某个开区间中除$x = c$外所有的$x$，有$g(x) \leq f(x) \leq h(x)$，又设

$$\lim_{x \to c} g(x) = \lim_{x \to c} h(x) = L$$

那么，$\lim_{x \to c} f(x) = L$。

由此定理可求得：$\lim_{x \to 0} sin(x) = 0$，$\lim_{x \to 0} cos(x) = 1$

### 双侧极限

当$x \to c$时，若只查看在$c$一侧的$x$，则得到**单侧极限**，相应地上面所说的极限即**双侧极限**，两者的关系是：当$x \to c$时，函数$f(x)$有极限当且仅当$f$的左侧极限和右侧极限存在且相等。

例：$\lim_{x \to 0} \frac{sin \theta}{\theta } = 1$

## 与无穷有关的极限

无穷（$\infty$）的记号并非表示它是一个实数，它用来描述函数的性态，即定义域或值域中的值会超过任意有限的界限。

### 当$x \to \pm \infty$时的极限

此时极限的定义与趋于某点是一致，只是此时寻找的不是某个邻域了。

另外，此时的极限也遵循与有限值相同的极限法则。

### 当$x \to \pm \infty$时有理函数的极限

当分子次数不大于分母次数时有极限，否则无。

### 水平和垂直渐近线：无穷极限

当函数图像愈来愈远离原点地移动时和某条固定直线见的距离趋于零时，我们说该图像渐进地趋于该直线，该直线是该图像的一条**渐近线**（即字面意思）。图像可在水平和垂直方向上移动，相应地有水平渐近线与垂直渐近线。

注意：这里是说图像移动，而非自变量。

例：函数$f(x) = \frac{1}{x}$，水平渐近线是$x$轴，垂直渐近线是$y$轴。

对于函数$f(x) = \frac{2 x^2 - 3}{7x+4}$，有$f(x) = (\frac{2}{7}x - \frac{8}{49}) - \frac{115}{49*(7x+4)}$，左边部分所表示的直线是函数的一条**斜渐近线**。

### 无穷极限的精确定义

无穷极限与有限极限有非常类似的正式定义，在此不再赘述。


